(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f355ef8"],{1011:function(e,t,n){"use strict";n("a601")},"1a3b":function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),r=function(e){return Object(c["pushScopeId"])("data-v-12da1661"),e=e(),Object(c["popScopeId"])(),e},o={class:"container mt-5"},a={key:0},l=r((function(){return Object(c["createElementVNode"])("h3",{class:"mt-5",style:{color:"coral","font-weight":"bold"}},[Object(c["createElementVNode"])("i",{class:"bi bi-patch-check",style:{color:"green"}}),Object(c["createTextVNode"])(" 交易完成 ")],-1)})),d=[l],i={class:"my-5 row justify-content-center"},u={class:"table align-middle"},s=r((function(){return Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("th",null,"品名"),Object(c["createElementVNode"])("th",null,"數量"),Object(c["createElementVNode"])("th",null,"單價")],-1)})),b={class:"text-end"},O=r((function(){return Object(c["createElementVNode"])("td",{colspan:"2",class:"text-end"},"總計",-1)})),m={class:"text-end"},j={class:"table"},f=r((function(){return Object(c["createElementVNode"])("th",{width:"100"},"Email",-1)})),p=r((function(){return Object(c["createElementVNode"])("th",null,"姓名",-1)})),h=r((function(){return Object(c["createElementVNode"])("th",null,"收件人電話",-1)})),E=r((function(){return Object(c["createElementVNode"])("th",null,"收件人地址",-1)})),N=r((function(){return Object(c["createElementVNode"])("th",null,"付款狀態",-1)})),V={key:0},y={key:1,class:"text-success"},g={key:0,class:"btn btn-success"},k=Object(c["createTextVNode"])(" 前往付款 "),v=r((function(){return Object(c["createElementVNode"])("i",{class:"bi bi-gem"},null,-1)})),D=[k,v],B={key:1,class:"btn btn-warning",disabled:""},S=Object(c["createTextVNode"])(" 此訂單已付款 "),x=r((function(){return Object(c["createElementVNode"])("i",{class:"bi bi-check-all"},null,-1)})),w=[S,x];function I(e,t,n,r,l,k){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",o,[!0===l.orderData.is_paid?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,d)):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("form",{class:"col-md-6",onSubmit:t[0]||(t[0]=Object(c["withModifiers"])((function(){return k.payOrder&&k.payOrder.apply(k,arguments)}),["prevent"]))},[Object(c["createElementVNode"])("table",u,[s,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(l.orderData.products,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:e.id},[Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.product.title),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.qty)+"/"+Object(c["toDisplayString"])(e.product.unit),1),Object(c["createElementVNode"])("td",b,Object(c["toDisplayString"])(e.final_total),1)])})),128))]),Object(c["createElementVNode"])("tfoot",null,[Object(c["createElementVNode"])("tr",null,[O,Object(c["createElementVNode"])("td",m,Object(c["toDisplayString"])(l.orderData.total),1)])])]),Object(c["createElementVNode"])("table",j,[Object(c["createElementVNode"])("tbody",null,[Object(c["createElementVNode"])("tr",null,[f,Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(l.orderData.user.email),1)]),Object(c["createElementVNode"])("tr",null,[p,Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(l.orderData.user.name),1)]),Object(c["createElementVNode"])("tr",null,[h,Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(l.orderData.user.tel),1)]),Object(c["createElementVNode"])("tr",null,[E,Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(l.orderData.user.address),1)]),Object(c["createElementVNode"])("tr",null,[N,Object(c["createElementVNode"])("td",null,[l.orderData.is_paid?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",y,"付款完成")):(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",V,"尚未付款"))])])])]),Object(c["createElementVNode"])("div",null,[!1===l.orderData.is_paid?(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",g,D)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",B,w))])],32)])])}n("99af");var $=n("4dcd"),T={data:function(){return{orderId:"",orderData:{user:{}}}},methods:{getCusOrder:function(){var e=this;$["a"].emit("loading"),this.orderId=this.$route.params.orderId;var t="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("farmerlin731","/order/").concat(this.orderId);this.$http.get(t).then((function(t){e.orderData=t.data.order,$["a"].emit("un-loading")})).catch((function(e){$["a"].emit("un-loading"),console.dir(e)}))},payOrder:function(){var e=this;$["a"].emit("loading"),this.$emit("next");var t="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("farmerlin731","/pay/").concat(this.orderId);this.$http.post(t).then((function(t){e.$pushToastMessage(t,"付款"),e.getCusOrder(),e.$router.push("/orders/".concat(e.$route.params.orderId))})).catch((function(e){console.dir(e)}))}},mounted:function(){this.getCusOrder()}},_=(n("1011"),n("d959")),C=n.n(_);const M=C()(T,[["render",I],["__scopeId","data-v-12da1661"]]);t["default"]=M},"1dde":function(e,t,n){var c=n("d039"),r=n("b622"),o=n("2d00"),a=r("species");e.exports=function(e){return o>=51||!c((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},8418:function(e,t,n){"use strict";var c=n("a04b"),r=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var a=c(t);a in e?r.f(e,a,o(0,n)):e[a]=n}},"99af":function(e,t,n){"use strict";var c=n("23e7"),r=n("da84"),o=n("d039"),a=n("e8b5"),l=n("861d"),d=n("7b0b"),i=n("07fa"),u=n("8418"),s=n("65f0"),b=n("1dde"),O=n("b622"),m=n("2d00"),j=O("isConcatSpreadable"),f=9007199254740991,p="Maximum allowed index exceeded",h=r.TypeError,E=m>=51||!o((function(){var e=[];return e[j]=!1,e.concat()[0]!==e})),N=b("concat"),V=function(e){if(!l(e))return!1;var t=e[j];return void 0!==t?!!t:a(e)},y=!E||!N;c({target:"Array",proto:!0,forced:y},{concat:function(e){var t,n,c,r,o,a=d(this),l=s(a,0),b=0;for(t=-1,c=arguments.length;t<c;t++)if(o=-1===t?a:arguments[t],V(o)){if(r=i(o),b+r>f)throw h(p);for(n=0;n<r;n++,b++)n in o&&u(l,b,o[n])}else{if(b>=f)throw h(p);u(l,b++,o)}return l.length=b,l}})},a601:function(e,t,n){},b0c0:function(e,t,n){var c=n("83ab"),r=n("5e77").EXISTS,o=n("e330"),a=n("9bf2").f,l=Function.prototype,d=o(l.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=o(i.exec),s="name";c&&!r&&a(l,s,{configurable:!0,get:function(){try{return u(i,d(this))[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-5f355ef8.c7bee310.js.map